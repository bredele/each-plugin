<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Each plugin</title>
</head>
<body>
	<input data-event="on:input,range" type="range" min="1" max="100" value="2">
	<button data-event="on:click,del" class="remove">Remove all</button>
	<button data-event="on:click,delPair" class="remove-pair">Remove pair items</button>
	<input data-event="on:keypress > 13, reset" type="text" placeholder="Reset with value">
	<ul data-event="on:click,delItem" repeat>
		<li>
			<a href="{{href}}">{{ label }}</a>
		</li>
	</ul>
	<script src="../build/build.js"></script>
	<script>
		//repeat
		
	  var brick = require('brick'),
	  		repeat = require('repeat-brick'),
	  		list = document.querySelector('ul');


    var view = brick(list, [{
    	label: 'bredele',
    	href: 'http://github.com/bredele'
    }, {
    	label: 'brick',
    	href: 'http://github.com/bredele/brick'
    }]);

    var plug =  repeat(view);
	  view.add('repeat', plug);
	  view.build();


	  //widget
	  var events = require('events-brick');
	  		
	  brick(document.body).add('data-event', events({
	  	delItem: function(target) {
	  		plug.del(target.parentElement);
	  	},
	  	del: function() {
	  		plug.del();
	  	},
	  	reset: function() {
	  		view.reset([{
	  			label: 'hihi'
	  		}])
	  	},
	  	range: function() {
	  		var val = arguments[2].value;
	  		var reset = [];
	  		for(var l = val; l--;) {
	  			reset.push({
	  				label: 'index' + l,
	  				href: '#'
	  			});
	  		}
	  		view.reset(reset);
	  	},
	  	delPair: function() {
	  		plug.del(function(item){
	  			return Number(item.get('label').substring(5)) % 2 === 0;
	  		});
	  	}
	  })).build();

	  // list.addEventListener('click', function(ev){
	  // 	plug.del(ev.target.parentElement);
	  // });

	  // input.addEventListener('change', function() {

	  // });

	  // store.reset([{
	  // 	label: 'index0'
	  // }, {
	  // 	label: 'index1'
	  // }]);

   //  document.querySelector('.remove').addEventListener('click', function(){
   //  	plug.del();
   //  });

   //   document.querySelector('.remove-pair').addEventListener('click', function(){
   //  	plug.del(function(item){
   //  		return Number(item.get('label').substring(5)) % 2 === 0;
   //  	});
   //  });

	</script>
</body>
</html>